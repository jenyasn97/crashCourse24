import{r as k,P as J}from"./PulseLoader-IMt-Y13w.js";import{a as x}from"./axios-B4uVmeYG.js";import{o as n,c as l,a as e,b as a,w as y,u as c,d,R as w,e as B,f as v,g as C,t as o,F as E,h as $,i as D}from"./index-BIKw66O9.js";function L(u,r){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-4.28 9.22a.75.75 0 0 0 0 1.06l3 3a.75.75 0 1 0 1.06-1.06l-1.72-1.72h5.69a.75.75 0 0 0 0-1.5h-5.69l1.72-1.72a.75.75 0 0 0-1.06-1.06l-3 3Z","clip-rule":"evenodd"})])}const P={class:"container m-auto px-6 py-6"},R={__name:"BackButton",setup(u){return(r,_)=>(n(),l("section",null,[e("div",P,[a(c(w),{to:"/jobs",class:"flex items-center text-green-500 hover:text-green-600"},{default:y(()=>[a(c(L),{class:"mr-1 size-6"}),d(" Back to Job Listings ")]),_:1})])]))}},S={key:0,class:"bg-green-50"},V={class:"container m-auto px-6 py-10"},M={class:"md:grid-cols-70/30 grid w-full grid-cols-1 gap-6"},N={class:"rounded-lg bg-white p-6 text-center shadow-md md:text-left"},z={class:"mb-4 text-gray-500"},F={class:"mb-4 text-3xl font-bold"},I={class:"mb-4 flex justify-center align-middle text-gray-500 md:justify-start"},T={class:"mb-3 flex items-center gap-1 text-orange-700"},Z={class:"mt-6 rounded-lg bg-white p-6 shadow-md"},A=e("h3",{class:"mb-6 text-lg font-bold text-green-800"}," Job Description ",-1),Y={class:"mb-4"},q=e("h3",{class:"mb-2 text-lg font-bold text-green-800"},"Salary",-1),G={class:"mb-4"},H={class:"rounded-lg bg-white p-6 shadow-md"},K=e("h3",{class:"mb-6 text-xl font-bold"},"Company Info",-1),O={class:"text-2xl"},Q={class:"my-2"},U=e("hr",{class:"my-4"},null,-1),W=e("h3",{class:"text-xl"},"Contact Email:",-1),X={class:"my-2 overflow-hidden bg-green-100 p-2 font-bold"},ee=e("h3",{class:"text-xl"},"Contact Phone:",-1),te={class:"my-2 bg-green-100 p-2 font-bold"},oe={class:"mt-6 rounded-lg bg-white p-6 shadow-md"},se=e("h3",{class:"mb-6 text-xl font-bold"},"Manage Job",-1),ae={key:1,class:"mt-6 text-center text-gray-500"},ie={__name:"JobView",setup(u){const r=$(),_=D(),h=B(),m=r.params.id,t=v([]),i=v(!1);C(async()=>{try{i.value=!0;const s=await x.get(`/api/jobs/${m}`);t.value=s.data}catch(s){console.error("Error fetching job",s)}finally{i.value=!1}});async function j(){try{window.confirm("Are you sure you want to delete this job?")&&(await x.delete(`/api/jobs/${m}`),h.success("Job Deleted Successfully"),_.push("/jobs"))}catch(s){console.error("Error deleting job",s),h.error("Job not deleted")}}return(s,ne)=>{var b,f,p,g;return n(),l(E,null,[a(R),i.value?(n(),l("div",ae,[a(J)])):(n(),l("section",S,[e("div",V,[e("div",M,[e("main",null,[e("div",N,[e("div",z,o(t.value.type),1),e("h1",F,o(t.value.title),1),e("div",I,[e("div",T,[a(c(k),{class:"size-4 text-orange-700"}),d(" "+o(t.value.location),1)])])]),e("div",Z,[A,e("p",Y,o(t.value.description),1),q,e("p",G,o(t.value.salary)+" / Year",1)])]),e("aside",null,[e("div",H,[K,e("h2",O,o((b=t.value.company)==null?void 0:b.name),1),e("p",Q,o((f=t.value.company)==null?void 0:f.description),1),U,W,e("p",X,o((p=t.value.company)==null?void 0:p.contactEmail),1),ee,e("p",te,o((g=t.value.company)==null?void 0:g.contactPhone),1)]),e("div",oe,[se,a(c(w),{to:`/jobs/edit/${t.value.id}`,class:"focus:shadow-outline mt-4 block w-full rounded-full bg-green-500 px-4 py-2 text-center font-bold text-white hover:bg-green-600 focus:outline-none"},{default:y(()=>[d("Edit Job ")]),_:1},8,["to"]),e("button",{onClick:j,class:"focus:shadow-outline mt-4 block w-full rounded-full bg-red-500 px-4 py-2 font-bold text-white hover:bg-red-600 focus:outline-none"}," Delete Job ")])])])])]))],64)}}};export{ie as default};
